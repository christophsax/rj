---
title: "Guide for the Editor-in-Chief"
author: "Di Cook"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Guide for the Editor-in-Chief}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Obtaining DOIs for articles in new issue

This is done once the issue is built. 

**Note:** It is easier if the December issue gets their slug BEFORE the end of the year, because the DOI links assume the issue date, which is the December the year before it actually gets published. If the slugs are in the new year, you need to update links in a tricky way.

You need to generate the `xml` for the DOI links by:

```{r, eval = FALSE}
# From the articles directory
library(rj)
library(yaml)
# Assuming the rjournal.github.io is a parallel directory
cfg = yaml.load_file("../rjournal.github.io/_config.yml")
issue = cfg$issue[[length(cfg$issue)]] # last one is typically desired
print(list(volume=issue$volume, num=issue$num))  # double check
rj:::create_doi_from_issue(issue, outdir="./")  # Change outdir to your preference
```

This will generate the file `DOI-yr-num.xml` where `yr` is the year of the issue and `num` is the number (1 or 2). Then you need to login into https://doi.crossref.org/ using username `rfou` and password provided by previous editor. 

Click on "Upload submissions", then "Metadata" and upload the file. 

